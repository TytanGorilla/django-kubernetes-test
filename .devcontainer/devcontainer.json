{
  "name": "My Codespace App",
  "build": {
    "dockerfile": "../Dockerfile"
  },
  "features": {
    "node": "20",
    "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {},
    "ghcr.io/devcontainers/features/docker-in-docker:1": {}
  },
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
  ],
  "postCreateCommand": "
    echo 'ğŸ“Œ Verifying Docker...';
    if ! command -v docker &> /dev/null; then
      echo 'âŒ Docker is not installed! Exiting...';
      exit 1;
    fi;
    docker info;
    echo 'âœ… Docker is installed and running!';

    echo 'ğŸ“Œ Installing Kind...';
    curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-amd64 &&
    chmod +x ./kind &&
    mv ./kind /usr/local/bin/kind;

    echo 'âœ… Kind installation complete!';
    echo 'ğŸ”„ Verifying Kind...';
    kind version;
    
    echo 'ğŸš€ Creating Kubernetes Cluster...';
    kind create cluster || echo 'âŒ Failed to create Kind cluster.';
  "
}