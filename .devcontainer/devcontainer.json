{
  "name": "My Codespace App",
  "build": {
    "dockerfile": "../Dockerfile"
  },
  "features": {
    "node": "20",
    "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {},
    "ghcr.io/devcontainers/features/docker-in-docker:2.12.0": {}  // âœ… Ensures Docker is inside the container
  },
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
  ],
  "postCreateCommand": "
    echo 'ğŸ“Œ Checking Docker availability...';
    if ! command -v docker &> /dev/null; then
      echo 'âŒ Docker is not installed inside this container!';
      exit 1;
    fi;
    docker info;
    echo 'âœ… Docker is running inside the dev container!';

    echo 'ğŸ“Œ Installing Kind...';
    curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-amd64 &&
    chmod +x ./kind &&
    mv ./kind /usr/local/bin/kind;
    
    echo 'âœ… Kind installation complete!';
    echo 'ğŸ”„ Verifying Kind installation...';
    kind version;
  "
}